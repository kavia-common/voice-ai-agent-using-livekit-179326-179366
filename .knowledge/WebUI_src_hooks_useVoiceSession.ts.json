{"is_source_file": true, "format": "TypeScript", "description": "This file is a React hook (`useVoiceSession`) that manages voice chat session lifecycle, including starting/stopping sessions, muting, and transcript handling. It integrates with external services for liveKit client and audio recording, and includes placeholder logic for real-time speech-to-text and streaming functionality.", "external_files": ["../services/livekitClient", "../services/audioRecorder"], "external_methods": ["createLiveKitClient", "LiveKitClient", "createAudioRecorder", "AudioRecorder"], "published": ["useVoiceSession"], "classes": [], "methods": [{"name": "export function useVoiceSession(): UseVoiceSession { useVoiceSession", "description": "Main hook that provides voice session control including start, stop, mute, and transcript state management.", "scope": "", "scopeKind": ""}], "calls": ["react.useCallback", "react.useEffect", "react.useMemo", "react.useRef", "react.useState", "../services/livekitClient.createLiveKitClient", "../services/livekitClient.LiveKitClient", "../services/audioRecorder.createAudioRecorder", "../services/audioRecorder.AudioRecorder"], "search-terms": ["useVoiceSession", "liveKit", "audioRecorder", "voice chat hook", "transcript management", "session lifecycle", "React session hook"], "state": 2, "file_id": 17, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "SessionStatus", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^export type SessionStatus = 'idle' | 'starting' | 'active' | 'stopping' | 'stopped';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UseVoiceSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^type UseVoiceSession = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ensureServices", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const ensureServices = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^    const id = window.setInterval(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isMuted", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isMuted, setMuted] = useState<boolean>(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "isStarting", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStarting, setIsStarting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "isStopping", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStopping, setIsStopping] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "livekitRef", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const livekitRef = useRef<LiveKitClient | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "recorderRef", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const recorderRef = useRef<AudioRecorder | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setIsStarting", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStarting, setIsStarting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setIsStopping", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStopping, setIsStopping] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setMuted", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isMuted, setMuted] = useState<boolean>(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [status, setStatus] = useState<SessionStatus>('idle');$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setTranscript", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [transcript, setTranscript] = useState<string[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "startSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const startSession = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [status, setStatus] = useState<SessionStatus>('idle');$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "stopSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const stopSession = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "toggleMute", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const toggleMute = useCallback(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "transcript", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [transcript, setTranscript] = useState<string[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "useVoiceSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^export function useVoiceSession(): UseVoiceSession {$/", "language": "TypeScript", "kind": "function"}], "hash": "043c75d44268c2653e49a593195182ae", "format-version": 4, "code-base-name": "WebUI", "filename": "WebUI/src/hooks/useVoiceSession.ts", "revision_history": [{"38": ""}]}