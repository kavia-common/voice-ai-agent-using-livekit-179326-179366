{"is_source_file": true, "format": "TypeScript (or JavaScript with type annotations)", "description": "A React custom hook that manages the lifecycle of a voice chat session, including starting/stopping recording, connecting to LiveKit, and managing transcript state.", "external_files": ["../services/livekitClient.ts", "../services/audioRecorder.ts"], "external_methods": ["createLiveKitClient", "LiveKitClient.connectIfConfigured", "LiveKitClient.disconnect", "createAudioRecorder", "AudioRecorder.start", "AudioRecorder.stop", "AudioRecorder.setMuted"], "published": ["useVoiceSession"], "classes": [], "methods": [{"name": "export function useVoiceSession(): UseVoiceSession { useVoiceSession", "description": "A custom React hook that provides state and functions to manage a voice chat session lifecycle, including starting/stopping the session, toggling mute, and maintaining transcript.", "scope": "", "scopeKind": ""}], "calls": ["createLiveKitClient", "livekitRef.current?.connectIfConfigured", "createAudioRecorder", "recorderRef.current?.start", "recorderRef.current?.stop", "livekitRef.current?.disconnect", "recorderRef.current?.setMuted"], "search-terms": ["useVoiceSession", "LiveKitClient", "createAudioRecorder", "useState", "useRef", "useCallback", "useEffect", "React hooks", "voice chat session", "microphone recording", "transcript management"], "state": 2, "file_id": 17, "knowledge_revision": 51, "git_revision": "5e2cad26d272c646f92d22defc00004c4a134c49", "revision_history": [{"38": ""}, {"51": "5e2cad26d272c646f92d22defc00004c4a134c49"}], "ctags": [{"_type": "tag", "name": "SessionStatus", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^export type SessionStatus = 'idle' | 'starting' | 'active' | 'stopping' | 'stopped';$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "UseVoiceSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^type UseVoiceSession = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ensureServices", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const ensureServices = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^    const id = window.setInterval(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isMuted", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isMuted, setMuted] = useState<boolean>(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "isStarting", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStarting, setIsStarting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "isStopping", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStopping, setIsStopping] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "livekitRef", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const livekitRef = useRef<LiveKitClient | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "recorderRef", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const recorderRef = useRef<AudioRecorder | null>(null);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setIsStarting", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStarting, setIsStarting] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setIsStopping", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isStopping, setIsStopping] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setMuted", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [isMuted, setMuted] = useState<boolean>(false);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setStatus", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [status, setStatus] = useState<SessionStatus>('idle');$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "setTranscript", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [transcript, setTranscript] = useState<string[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "startSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const startSession = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [status, setStatus] = useState<SessionStatus>('idle');$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "stopSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const stopSession = useCallback(async () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "toggleMute", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const toggleMute = useCallback(() => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "transcript", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^  const [transcript, setTranscript] = useState<string[]>([]);$/", "language": "TypeScript", "kind": "constant", "scope": "useVoiceSession", "scopeKind": "function"}, {"_type": "tag", "name": "useVoiceSession", "path": "/home/kavia/workspace/code-generation/voice-ai-agent-using-livekit-179326-179366/WebUI/src/hooks/useVoiceSession.ts", "pattern": "/^export function useVoiceSession(): UseVoiceSession {$/", "language": "TypeScript", "kind": "function"}], "hash": "571f9fe3933c9b7033d76c560abc051f", "format-version": 4, "code-base-name": "WebUI", "filename": "WebUI/src/hooks/useVoiceSession.ts"}